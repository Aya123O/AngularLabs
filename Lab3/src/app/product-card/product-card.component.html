<div class="card mb-4 shadow-lg rounded border-light">
  <div class="card-header position-relative text-center">

    <button
      class="btn btn-sm position-absolute top-0 start-0 m-2 rounded-4"
      [ngClass]="{'btn-success': product.stock > 0, 'btn-danger': product.stock === 0}">
      {{ product.stock > 0 ? 'In Stock' : 'Out of Stock' }}
    </button>


    <img
      [src]="product.images[0]"
      class="card-img-top img-fluid"
      alt="{{ product.title }}"
      style="object-fit: contain; height: 250px;"
      />
    </div>



    <div class="card-body">
      <h5 class="card-title text-center text-black-50">{{ product.title }}</h5>

      <div class="d-flex justify-content-between align-items-center mb-3 mt-3">
        <p class="mb-0"><strong class="text-success">Price:</strong> ${{ product.price }}</p>
        <p class="mb-0">
          <strong class="text-success">Category:</strong>
          <span class="badge badge-warning text-dark">{{ product.category }}</span>
        </p>
      </div>


      <div class="d-flex justify-content-between align-items-center mb-3">
        <p class="mb-0"><strong class="text-success">Stock:</strong> {{ product.stock }}</p>
        <p class="mb-0">
          <strong class="text-success">Rating:</strong>
          <span class="badge badge-success text-dark">{{ product.rating }}</span>
        </p>
      </div>


      <h6 class="mt-3 text-center text-primary">Customer Reviews:</h6>
      <ol class="list-group list-group-numbered">
        @for (review of product.reviews; track review) {
          <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
              <div class="fw-bold">{{ review.reviewerName }}</div>
              {{ review.comment }}
            </div>
            <span class="badge text-bg-primary rounded-pill">{{ review.rating }}</span>
          </li>
        }
      </ol>

      <div class="mt-3 d-flex justify-content-between">
        <button
          class="btn btn-warning btn-sm"
          (click)="addToCart(product)">
          Add to Cart
        </button>

        <button class="btn btn-outline-dark btn-sm" (click)="viewDetails(product.id)">View Details</button>
      </div>
    </div>
  </div>
